<app-navbar></app-navbar>

<div class="desafios-container">
  <header class="desafios-header">
    <h1>Desafios CTF</h1>
    <p>Escolha um desafio abaixo e teste suas habilidades hacker!</p>
  </header>

  <div class="filtros-desafios">
    </div>

  <div *ngIf="isLoading" class="loading-message">Carregando desafios...</div>
  <div *ngIf="errorMessage" class="error-message">{{ errorMessage }}</div>

  <div class="lista-desafios-grid" *ngIf="!isLoading && listaDeDesafios.length > 0; else semDesafios">
    <div class="card-desafio" *ngFor="let desafio of listaDeDesafios">
      <div class="card-desafio-header">
        <span class="pontuacao-tag">{{ desafio.score }} XP</span> </div>
      <h3 class="titulo-desafio">{{ desafio.title }}</h3> <p class="descricao-desafio">{{ desafio.description }}</p> <div class="card-desafio-footer">
        <span class="nivel-dificuldade" [ngClass]="'nivel-' + desafio.difficulty.toLowerCase()"> {{ desafio.difficulty }} </span>
        <button class="btn btn-primary btn-comecar" [routerLink]="['/desafios', desafio.id]">
            <span>Come√ßar Desafio</span>
        </button>
      </div>
    </div>
  </div>

  <ng-template #semDesafios>
    <div *ngIf="!isLoading && !errorMessage" class="sem-desafios-mensagem">
      <p>Nenhum desafio encontrado com os filtros atuais. Tente ajustar sua busca ou categoria!</p>
      <img src="assets/images/no-results.svg" alt="Nenhum resultado encontrado" class="no-results-img"/>
    </div>
  </ng-template>
</div>

<app-footer></app-footer>